# Example: Home + Office + Cabin Mesh Network
# Three-site mesh with mobile laptop access

# ============================================================================
# NETWORK DESIGN
# ============================================================================
#
# Mesh Network: 10.99.0.0/24
#
# Site        Mesh IP      LAN Subnet        Endpoint
# ----        -------      ----------        --------
# Home        10.99.0.1    192.168.1.0/24    home.ddns.net:51820
# Office      10.99.0.2    192.168.2.0/24    203.0.113.50:51820
# Cabin       10.99.0.3    192.168.3.0/24    cabin.ddns.net:51820
# Laptop      10.99.0.10   -                 (roaming)
#
# ============================================================================

# ----------------------------------------------------------------------------
# HOME ROUTER (Site A - Primary)
# ----------------------------------------------------------------------------
# mesh.conf settings:
MESH_NAME="family-mesh"
MESH_SUBNET="10.99.0.0/24"
MESH_PORT="51820"

# peers.db entries:
# home|fixed|10.99.0.1/24|home.ddns.net:51820|<HOME_PUBKEY>|10.99.0.1/32,192.168.1.0/24|25|Primary home router
# office|fixed|10.99.0.2/24|203.0.113.50:51820|<OFFICE_PUBKEY>|10.99.0.2/32,192.168.2.0/24|25|Office router
# cabin|fixed|10.99.0.3/24|cabin.ddns.net:51820|<CABIN_PUBKEY>|10.99.0.3/32,192.168.3.0/24|25|Cabin router
# laptop|dhcp|10.99.0.10/24|dynamic|<LAPTOP_PUBKEY>|10.99.0.10/32|25|Dad's laptop

# ----------------------------------------------------------------------------
# COMMANDS TO SET UP HOME ROUTER
# ----------------------------------------------------------------------------
# mesh-init --name family-mesh
# mesh-add home fixed 10.99.0.1/24 home.ddns.net:51820 --public-key $(cat /etc/wg-mesh/keys/publickey) --allowed-ips "10.99.0.1/32,192.168.1.0/24"
# mesh-add office fixed 10.99.0.2/24 203.0.113.50:51820 --public-key <OFFICE_PUBKEY> --allowed-ips "10.99.0.2/32,192.168.2.0/24"
# mesh-add cabin fixed 10.99.0.3/24 cabin.ddns.net:51820 --public-key <CABIN_PUBKEY> --allowed-ips "10.99.0.3/32,192.168.3.0/24"
# mesh-add laptop dhcp 10.99.0.10/24 dynamic --public-key <LAPTOP_PUBKEY>
# mesh-generate
# mesh-apply-local

# ----------------------------------------------------------------------------
# LAPTOP CLIENT CONFIG (for WireGuard app)
# ----------------------------------------------------------------------------
# [Interface]
# PrivateKey = <LAPTOP_PRIVATE_KEY>
# Address = 10.99.0.10/24
# DNS = 10.99.0.1
#
# [Peer]
# PublicKey = <HOME_PUBKEY>
# Endpoint = home.ddns.net:51820
# AllowedIPs = 10.99.0.0/24, 192.168.1.0/24, 192.168.2.0/24, 192.168.3.0/24
# PersistentKeepalive = 25

# ============================================================================
# USE CASES
# ============================================================================
#
# 1. Access home NAS from office:
#    ssh user@192.168.1.100  (NAS at home)
#
# 2. Access office printer from cabin:
#    Print to 192.168.2.50
#
# 3. Access all locations from laptop (anywhere):
#    Connect VPN, then access any device
#
# 4. Cross-site backup:
#    rsync home-nas:/data cabin-nas:/backup
#
# ============================================================================
