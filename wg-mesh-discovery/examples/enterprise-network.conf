# Enterprise Network Configuration Example
# WireGuard Mesh Discovery
#
# This configuration is designed for multi-site enterprise deployments
# with centralized management and mesh synchronization.

# =============================================================================
# Network Settings
# =============================================================================

# Primary network interface (usually the LAN bridge)
INTERFACE=br-lan

# Network subnet to scan
# Use CIDR notation
SUBNET=10.0.0.0/22

# Site identifier (unique per location)
# Used for mesh sync and multi-site DNS
SITE_NAME=headquarters

# =============================================================================
# Scan Settings
# =============================================================================

# Scan methods to use (space-separated)
# Options: arp, nmap, mdns
# 'arp' is fastest, 'nmap' is most thorough
SCAN_METHODS="arp nmap mdns"

# Scan interval in seconds (for scheduled scans)
# 600 = 10 minutes
SCAN_INTERVAL=600

# Scan timeout per method (seconds)
SCAN_TIMEOUT=120

# Number of concurrent scan threads
SCAN_THREADS=8

# Ports to scan with NMAP (comma-separated)
# Common enterprise ports
NMAP_PORTS="22,23,80,443,445,631,3389,5900,8080,8443,9100"

# Skip devices that haven't responded in X days
# Set to 0 to keep all devices
DEVICE_EXPIRY_DAYS=30

# =============================================================================
# DNS Settings
# =============================================================================

# Enable DNS integration
DNS_ENABLED=1

# DNS suffix for discovered devices
# Devices will be accessible as: hostname.SUFFIX
DNS_SUFFIX=corp.mesh

# DNS configuration file location
# This file is included by dnsmasq
DNS_FILE=/tmp/dnsmasq.d/mesh-discovery.conf

# Naming convention for auto-generated hostnames
# Options:
#   vendor-ip    -> hp-192-168-1-50.corp.mesh
#   type-ip      -> printer-50.corp.mesh
#   type-lastoctet -> printer-50.corp.mesh
DNS_NAMING=type-lastoctet

# =============================================================================
# Mesh Synchronization
# =============================================================================

# Enable synchronization across mesh network
MESH_SYNC=1

# Sync interval in seconds
# How often to exchange device lists with other sites
SYNC_INTERVAL=300

# Include devices from other sites in local DNS
# Enables cross-site DNS resolution
MESH_DNS_ENABLED=1

# =============================================================================
# Device Classification
# =============================================================================

# Custom vendor patterns for device type detection
# Format: TYPE:PATTERN1,PATTERN2,...
# Patterns are case-insensitive regex

# Printers
TYPE_PRINTER="hp,canon,epson,brother,lexmark,xerox,ricoh,kyocera,konica,sharp"

# NAS/Storage
TYPE_NAS="synology,qnap,netgear.*ready,buffalo,drobo,wd.*cloud,seagate.*nas"

# Cameras/Security
TYPE_CAMERA="hikvision,dahua,axis,foscam,amcrest,reolink,ubiquiti.*camera,vivotek"

# Network Equipment
TYPE_NETWORK="cisco,juniper,aruba,ubiquiti,mikrotik,netgear,tp-link,d-link"

# Servers
TYPE_SERVER="dell.*server,hp.*proliant,supermicro,lenovo.*think"

# =============================================================================
# Logging
# =============================================================================

# Log file location
LOG_FILE=/var/log/wg-mesh-discovery.log

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Maximum log file size in KB (rotated when exceeded)
LOG_MAX_SIZE=1024

# Number of rotated logs to keep
LOG_ROTATE_COUNT=5

# =============================================================================
# Web UI
# =============================================================================

# Enable web interface
WEBUI_ENABLED=1

# Web UI path (relative to web root)
WEBUI_PATH=/wg-mesh-discovery

# Require authentication for web UI
# Uses OpenWrt's uhttpd authentication
WEBUI_AUTH=1

# =============================================================================
# Notifications
# =============================================================================

# Enable new device notifications
NOTIFY_NEW_DEVICE=1

# Notification method: email, syslog, webhook
NOTIFY_METHOD=syslog

# For email notifications
# NOTIFY_EMAIL=admin@example.com
# NOTIFY_SMTP=smtp.example.com

# For webhook notifications
# NOTIFY_WEBHOOK=https://hooks.slack.com/services/XXX

# =============================================================================
# Security
# =============================================================================

# Maximum devices to track (prevent DoS)
MAX_DEVICES=500

# Rate limit scans (minimum seconds between scans)
SCAN_RATE_LIMIT=60

# Only track devices from known subnets
# TRUSTED_SUBNETS="10.0.0.0/8,192.168.0.0/16"

# =============================================================================
# Performance Tuning
# =============================================================================

# Database backend: sqlite, flatfile
# sqlite is faster for large networks
DB_BACKEND=flatfile

# Cache DNS lookups (seconds)
DNS_CACHE_TTL=300

# Batch size for mesh sync
SYNC_BATCH_SIZE=50
